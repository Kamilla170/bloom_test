import os
import pytz
import logging

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
logger = logging.getLogger(__name__)

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
BOT_TOKEN = os.getenv("BOT_TOKEN")
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY")
PLANTID_API_KEY = os.getenv("PLANTID_API_KEY")
DATABASE_URL = os.getenv("DATABASE_URL")
WEBHOOK_URL = os.getenv("WEBHOOK_URL")
PORT = int(os.getenv("PORT", 8000))

# –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å
MOSCOW_TZ = pytz.timezone('Europe/Moscow')

# –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (–ø–æ–ª—É—á–∞—é—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É)
ADMIN_USER_IDS = [455263261, 8390994875]

# –ú–∞–ø–ø–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ä–∞—Å—Ç–µ–Ω–∏–π
STATE_EMOJI = {
    'healthy': 'üå±',
    'flowering': 'üíê',
    'active_growth': 'üåø',
    'dormancy': 'üò¥',
    'stress': '‚ö†Ô∏è',
    'adaptation': 'üîÑ'
}

STATE_NAMES = {
    'healthy': '–ó–¥–æ—Ä–æ–≤–æ–µ',
    'flowering': '–¶–≤–µ—Ç–µ–Ω–∏–µ',
    'active_growth': '–ê–∫—Ç–∏–≤–Ω—ã–π —Ä–æ—Å—Ç',
    'dormancy': '–ü–µ—Ä–∏–æ–¥ –ø–æ–∫–æ—è',
    'stress': '–°—Ç—Ä–µ—Å—Å/–ë–æ–ª–µ–∑–Ω—å',
    'adaptation': '–ê–¥–∞–ø—Ç–∞—Ü–∏—è'
}

# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º —Ä–∞—Å—Ç–µ–Ω–∏–π (—Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–µ –∏ –ª–æ–≥–∏—á–Ω—ã–µ)
STATE_RECOMMENDATIONS = {
    'flowering': """üíê <b>{plant_name} —Ü–≤–µ—Ç–µ—Ç!</b>

<b>–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —É—Ö–æ–¥–∞:</b>
- üíß –ü–æ–ª–∏–≤–∞—Ç—å —á–∞—â–µ –Ω–∞ 2 –¥–Ω—è (–±–æ–ª—å—à–µ –≤–æ–¥—ã –ø—Ä–∏ —Ü–≤–µ—Ç–µ–Ω–∏–∏)
- üçΩÔ∏è –£–¥–æ–±—Ä–µ–Ω–∏–µ –¥–ª—è —Ü–≤–µ—Ç–µ–Ω–∏—è –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é
- ‚òÄÔ∏è –ë–æ–ª—å—à–µ —Å–≤–µ—Ç–∞, –∏–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä—è–º—ã—Ö –ª—É—á–µ–π
- üå°Ô∏è –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –±–µ–∑ –ø–µ—Ä–µ–ø–∞–¥–æ–≤

‚ö†Ô∏è <b>–í–∞–∂–Ω–æ:</b> –ù–µ –ø–µ—Ä–µ–º–µ—â–∞–π—Ç–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ!
üí° –£–¥–∞–ª—è–π—Ç–µ —É–≤—è–¥—à–∏–µ —Ü–≤–µ—Ç—ã –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–µ–Ω–∏—è""",

    'active_growth': """üåø <b>{plant_name} –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞—Å—Ç–µ—Ç!</b>

<b>–£—Å–∏–ª–µ–Ω–Ω—ã–π —É—Ö–æ–¥:</b>
- üíß –†–µ–≥—É–ª—è—Ä–Ω—ã–π –ø–æ–ª–∏–≤, –Ω–µ –¥–æ–ø—É—Å–∫–∞–π—Ç–µ –ø–µ—Ä–µ—Å—ã—Ö–∞–Ω–∏—è
- üçΩÔ∏è –ü–æ–¥–∫–æ—Ä–º–∫–∞ –∫–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏ –¥–ª—è —Ä–æ—Å—Ç–∞
- ‚òÄÔ∏è –ú–∞–∫—Å–∏–º—É–º —Å–≤–µ—Ç–∞ –¥–ª—è —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑–∞
- ü™¥ –ü–µ—Ä–µ—Å–∞–¥–∏—Ç–µ –µ—Å–ª–∏ –∫–æ—Ä–Ω—è–º —Ç–µ—Å–Ω–æ

üí° –≠—Ç–æ –ª—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∫—Ä–æ–Ω—ã""",

    'dormancy': """üò¥ <b>{plant_name} –≤ –ø–µ—Ä–∏–æ–¥–µ –ø–æ–∫–æ—è</b>

<b>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ö–æ–¥:</b>
- üíß –ü–æ–ª–∏–≤–∞—Ç—å —Ä–µ–∂–µ –Ω–∞ 5 –¥–Ω–µ–π
- üçΩÔ∏è –ü—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –ø–æ–¥–∫–æ—Ä–º–∫–∏ –¥–æ –≤–µ—Å–Ω—ã
- üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø—Ä–æ—Ö–ª–∞–¥–Ω–µ–µ 15-18¬∞C
- ‚òÄÔ∏è –ö–æ—Ä–æ—Ç–∫–∏–π —Å–≤–µ—Ç–æ–≤–æ–π –¥–µ–Ω—å - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

‚ö†Ô∏è <b>–ö—Ä–∏—Ç–∏—á–Ω–æ:</b> –ò–∑–±—ã—Ç–æ—á–Ω—ã–π –ø–æ–ª–∏–≤ –≤ –ø–æ–∫–æ–µ –≥—É–±–∏—Ç–µ–ª–µ–Ω!
üí° –í–µ—Å–Ω–æ–π —Ä–∞—Å—Ç–µ–Ω–∏–µ –ø—Ä–æ—Å–Ω–µ—Ç—Å—è —Å –Ω–æ–≤—ã–º–∏ —Å–∏–ª–∞–º–∏""",

    'stress': """‚ö†Ô∏è <b>–í–Ω–∏–º–∞–Ω–∏–µ! {plant_name} –≤ —Å—Ç—Ä–µ—Å—Å–µ</b>

<b>–°—Ä–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</b>
- üîç –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É: –ø–æ–ª–∏–≤/—Å–≤–µ—Ç/–≤—Ä–µ–¥–∏—Ç–µ–ª–∏/—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
- üíß –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–ª–∞–∂–Ω–æ—Å—Ç—å –ø–æ—á–≤—ã - —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–∂–∏–º
- ‚úÇÔ∏è –£–¥–∞–ª–∏—Ç–µ –≤—Å–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ –ª–∏—Å—Ç—å—è
- ü¶† –û—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ –Ω–∞ –≤—Ä–µ–¥–∏—Ç–µ–ª–µ–π (–æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã –ª–∏—Å—Ç—å–µ–≤)

üì∏ <b>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:</b> –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ 3-5 –¥–Ω–µ–π –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è!
‚ùì –ù–µ –ø–æ–º–æ–≥–∞–µ—Ç? –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å —Å —Ñ–æ—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã""",

    'adaptation': """üîÑ <b>{plant_name} –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è</b>

<b>–©–∞–¥—è—â–∏–π —Ä–µ–∂–∏–º:</b>
- üíß –£–º–µ—Ä–µ–Ω–Ω—ã–π –ø–æ–ª–∏–≤ –±–µ–∑ –ø–µ—Ä–µ—É–≤–ª–∞–∂–Ω–µ–Ω–∏—è
- ‚òÄÔ∏è –ù–µ —Å—Ç–∞–≤—å—Ç–µ –Ω–∞ —è—Ä–∫–æ–µ —Å–æ–ª–Ω—Ü–µ —Å—Ä–∞–∑—É
- üå°Ô∏è –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –±–µ–∑ —Å—Ç—Ä–µ—Å—Å–∞
- ‚è∞ –î–∞–π—Ç–µ 2-3 –Ω–µ–¥–µ–ª–∏ –Ω–∞ –ø—Ä–∏–≤—ã–∫–∞–Ω–∏–µ

‚ö†Ô∏è –ù–µ –ø–µ—Ä–µ—Å–∞–∂–∏–≤–∞–π—Ç–µ –∏ –Ω–µ —Ç—Ä–µ–≤–æ–∂—å—Ç–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ
üì∏ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è""",

    'healthy': """üå± <b>{plant_name} –∑–¥–æ—Ä–æ–≤–æ–µ!</b>

<b>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π —É—Ö–æ–¥:</b>
- üíß –†–µ–≥—É–ª—è—Ä–Ω—ã–π –ø–æ–ª–∏–≤ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º—É –≥—Ä–∞—Ñ–∏–∫—É
- üçΩÔ∏è –ü–æ–¥–∫–æ—Ä–º–∫–∞ –ø–æ —Å–µ–∑–æ–Ω—É
- ‚òÄÔ∏è –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ
- üå°Ô∏è –ö–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞

üí° –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!
üì∏ –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Ñ–æ—Ç–æ —Ä–∞–∑ –≤ –º–µ—Å—è—Ü –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π"""
}

# –ü—Ä–æ–º–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π
PLANT_IDENTIFICATION_PROMPT = """
–í—ã - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –±–æ—Ç–∞–Ω–∏–∫-–¥–∏–∞–≥–Ω–æ—Å—Ç —Å 30-–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∫–æ–º–Ω–∞—Ç–Ω—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π.

–ó–ê–î–ê–ß–ê: –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–æ—á–Ω—É—é –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —Ä–∞—Å—Ç–µ–Ω–∏—è –∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –æ—Ü–µ–Ω–∫—É –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å —É—á–µ—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ —Å–µ–∑–æ–Ω–∞.

–¢–ï–ö–£–©–ò–ô –°–ï–ó–û–ù: {season_name} ({season_description})
–°–ï–ó–û–ù–ù–´–ï –§–ê–ö–¢–û–†–´:
- –ü–æ–ª–∏–≤: {season_water_note}
- –û—Å–≤–µ—â–µ–Ω–∏–µ: {season_light_note}
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: {season_temperature_note}
- –ü–æ–¥–∫–æ—Ä–º–∫–∞: {season_feeding_note}

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –£—á–∏—Ç—ã–≤–∞–π—Ç–µ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –ø–æ–ª–∏–≤–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π!
–ó–∏–º–æ–π —Ä–∞—Å—Ç–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–µ –≤–æ–¥—ã (–∏–Ω—Ç–µ—Ä–≤–∞–ª +3-5 –¥–Ω–µ–π –∫ –±–∞–∑–æ–≤–æ–º—É).
–õ–µ—Ç–æ–º –∏—Å–ø–∞—Ä–µ–Ω–∏–µ –≤—ã—à–µ (–∏–Ω—Ç–µ—Ä–≤–∞–ª -2-3 –¥–Ω—è –∫ –±–∞–∑–æ–≤–æ–º—É).

–ú–ï–¢–û–î–û–õ–û–ì–ò–Ø –ê–ù–ê–õ–ò–ó–ê:
1. –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
   - –§–æ—Ä–º–∞, —Ä–∞–∑–º–µ—Ä –∏ —Ç–µ–∫—Å—Ç—É—Ä–∞ –ª–∏—Å—Ç—å–µ–≤
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ª–∏—Å—Ç—å–µ–≤ –Ω–∞ —Å—Ç–µ–±–ª–µ (–æ—á–µ—Ä–µ–¥–Ω–æ–µ/—Å—É–ø—Ä–æ—Ç–∏–≤–Ω–æ–µ/–º—É—Ç–æ–≤—á–∞—Ç–æ–µ)
   - –û–∫—Ä–∞—Å–∫–∞ –ª–∏—Å—Ç–æ–≤—ã—Ö –ø–ª–∞—Å—Ç–∏–Ω –∏ –∂–∏–ª–∫–æ–≤–∞–Ω–∏–µ
   - –•–∞—Ä–∞–∫—Ç–µ—Ä —Ä–æ—Å—Ç–∞ –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏—è
   - –ù–∞–ª–∏—á–∏–µ —Ü–≤–µ—Ç–æ–≤, –±—É—Ç–æ–Ω–æ–≤ –∏–ª–∏ –ø–ª–æ–¥–æ–≤

2. –û—Ü–µ–Ω–∫–∞ —Ñ–∏–∑–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
   - –¢—É—Ä–≥–æ—Ä –ª–∏—Å—Ç—å–µ–≤ (—É–ø—Ä—É–≥–æ—Å—Ç—å —Ç–∫–∞–Ω–µ–π)
   - –û–∫—Ä–∞—Å–∫–∞ (—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å, –ø—è—Ç–Ω–∞, —Ö–ª–æ—Ä–æ–∑, –Ω–µ–∫—Ä–æ–∑)
   - –ü—Ä–∏–∑–Ω–∞–∫–∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –∏–ª–∏ –≤—Ä–µ–¥–∏—Ç–µ–ª–µ–π
   - –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ—á–µ–∫ —Ä–æ—Å—Ç–∞

3. –ê–Ω–∞–ª–∏–∑ —É—Å–ª–æ–≤–∏–π —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è (–µ—Å–ª–∏ –≤–∏–¥–Ω—ã):
   - –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—É–±—Å—Ç—Ä–∞—Ç–∞ (–≤–ª–∞–∂–Ω–æ—Å—Ç—å, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
   - –†–∞–∑–º–µ—Ä –≥–æ—Ä—à–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Ç–µ–Ω–∏—è
   - –û—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç—å (–ø–æ –≤–Ω–µ—à–Ω–∏–º –ø—Ä–∏–∑–Ω–∞–∫–∞–º)

–í–ê–ñ–ù–û: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¢–û–õ–¨–ö–û —Ç–æ, —á—Ç–æ –≤–∏–¥–Ω–æ –Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏. –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –≤–∏–¥–µ–Ω - —É–∫–∞–∂–∏—Ç–µ —ç—Ç–æ —è–≤–Ω–æ.

–û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –§–ò–ó–ò–û–õ–û–ì–ò–ß–ï–°–ö–û–ì–û –°–û–°–¢–û–Ø–ù–ò–Ø (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω–æ):

healthy - –±–∞–∑–æ–≤–æ–µ –∑–¥–æ—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –†–∞–≤–Ω–æ–º–µ—Ä–Ω–∞—è –æ–∫—Ä–∞—Å–∫–∞ –ª–∏—Å—Ç—å–µ–≤
- –•–æ—Ä–æ—à–∏–π —Ç—É—Ä–≥–æ—Ä
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π
- –°—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–æ—Å—Ç

flowering - —Ñ–∞–∑–∞ —Ü–≤–µ—Ç–µ–Ω–∏—è
- –ù–∞–ª–∏—á–∏–µ –±—É—Ç–æ–Ω–æ–≤ –∏–ª–∏ —Ä–∞—Å–∫—Ä—ã—Ç—ã—Ö —Ü–≤–µ—Ç–æ–≤
- –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∞—è —Ñ–∞–∑–∞
- –¢–†–ï–ë–£–ï–¢: —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ø–æ–ª–∏–≤ (–Ω–æ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ —Å–µ–∑–æ–Ω!), —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–¥–æ–±—Ä–µ–Ω–∏—è

active_growth - —Ñ–∞–∑–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–µ–≥–µ—Ç–∞—Ü–∏–∏ (—Ç–∏–ø–∏—á–Ω–∞ –¥–ª—è –≤–µ—Å–Ω—ã-–ª–µ—Ç–∞)
- –ú–æ–ª–æ–¥—ã–µ —Å–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–µ –ª–∏—Å—Ç—å—è
- –ù–æ–≤—ã–µ –ø–æ–±–µ–≥–∏
- –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ –Ω–∞—Ä–∞—Å—Ç–∞–Ω–∏–µ –∑–µ–ª–µ–Ω–æ–π –º–∞—Å—Å—ã
- –¢–†–ï–ë–£–ï–¢: —É—Å–∏–ª–µ–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–π –ø–æ–ª–∏–≤

dormancy - –ø–µ—Ä–∏–æ–¥ –ø–æ–∫–æ—è (—Ç–∏–ø–∏—á–µ–Ω –¥–ª—è –∑–∏–º—ã)
- –ó–∞–º–µ–¥–ª–µ–Ω–Ω—ã–π –∏–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç
- –°—Ç–∞—Ä—ã–µ –ª–∏—Å—Ç—å—è –±–µ–∑ –Ω–æ–≤—ã—Ö –ø–æ–±–µ–≥–æ–≤
- –°–µ–∑–æ–Ω–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- –¢–†–ï–ë–£–ï–¢: –ó–ù–ê–ß–ò–¢–ï–õ–¨–ù–û–ï —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø–æ–ª–∏–≤–∞ (+5-7 –¥–Ω–µ–π –∫ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É), –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–æ–¥–∫–æ—Ä–º–∫–∏, –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

stress - —Å—Ç—Ä–µ—Å—Å–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ / –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ
- –•–ª–æ—Ä–æ–∑ (–ø–æ–∂–µ–ª—Ç–µ–Ω–∏–µ) –ª–∏—Å—Ç—å–µ–≤
- –ù–µ–∫—Ä–æ—Ç–∏—á–µ—Å–∫–∏–µ –ø—è—Ç–Ω–∞
- –í—è–ª–æ—Å—Ç—å, –ø–æ—Ç–µ—Ä—è —Ç—É—Ä–≥–æ—Ä–∞
- –ü—Ä–∏–∑–Ω–∞–∫–∏ –≤—Ä–µ–¥–∏—Ç–µ–ª–µ–π
- –¢–†–ï–ë–£–ï–¢: –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏—è —É—Ö–æ–¥–∞

adaptation - –∞–¥–∞–ø—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å–∞–¥–∫–∏ –∏–ª–∏ —Å–º–µ–Ω—ã —É—Å–ª–æ–≤–∏–π
- –í–æ–∑–º–æ–∂–Ω–∞ –ª–µ–≥–∫–∞—è –≤—è–ª–æ—Å—Ç—å
- –ü–µ—Ä–µ—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –¢–†–ï–ë–£–ï–¢: —â–∞–¥—è—â–∏–π —Ä–µ–∂–∏–º, —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

–ê–ù–ê–õ–ò–ó –í–û–î–ù–û–ì–û –†–ï–ñ–ò–ú–ê –° –£–ß–ï–¢–û–ú –°–ï–ó–û–ù–ê:
–ü—Ä–æ–≤–æ–¥–∏—Ç–µ –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –≤–∏–¥–Ω–∞ –ø–æ—á–≤–∞ –∏–ª–∏ –µ—Å—Ç—å —è–≤–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –Ω–∞ –ª–∏—Å—Ç—å—è—Ö:
- –û—Ü–µ–Ω–∫–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ —Å—É–±—Å—Ç—Ä–∞—Ç–∞
- –ü—Ä–∏–∑–Ω–∞–∫–∏ –∏–∑–±—ã—Ç–æ—á–Ω–æ–≥–æ –ø–æ–ª–∏–≤–∞: –≤—è–ª–æ—Å—Ç—å –ø—Ä–∏ –≤–ª–∞–∂–Ω–æ–π –ø–æ—á–≤–µ, –æ—Ç–µ–∫–∏, –≥–Ω–∏–ª—å
- –ü—Ä–∏–∑–Ω–∞–∫–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –ø–æ–ª–∏–≤–∞: —Å—É—Ö–æ—Å—Ç—å –ø–æ—á–≤—ã, –≤—è–ª–æ—Å—Ç—å, —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏–µ –ª–∏—Å—Ç—å–µ–≤
- –ö–∞—á–µ—Å—Ç–≤–æ –¥—Ä–µ–Ω–∞–∂–∞ (–µ—Å–ª–∏ –≤–∏–¥–µ–Ω –≥–æ—Ä—à–æ–∫)

–í–ê–ñ–ù–û –ü–†–ò –†–ê–°–ß–ï–¢–ï –ò–ù–¢–ï–†–í–ê–õ–ê –ü–û–õ–ò–í–ê:
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–∞
2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Å–µ–∑–æ–Ω–Ω—É—é –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É: {season_water_adjustment}
3. –£—á—Ç–∏—Ç–µ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è (—Ü–≤–µ—Ç–µ–Ω–∏–µ/–ø–æ–∫–æ–π/—Ä–æ—Å—Ç)
4. –ò—Ç–æ–≥–æ–≤—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 3 –¥–æ 20 –¥–Ω–µ–π

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê:

–†–ê–°–¢–ï–ù–ò–ï: [–¢–æ—á–Ω–æ–µ –Ω–∞—É—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –ª–∞—Ç–∏–Ω—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ]
–£–í–ï–†–ï–ù–ù–û–°–¢–¨: [–ø—Ä–æ—Ü–µ–Ω—Ç 0-100%]
–ü–†–ò–ó–ù–ê–ö–ò: [–∫–ª—é—á–µ–≤—ã–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤–∏–¥]
–°–ï–ú–ï–ô–°–¢–í–û: [–±–æ—Ç–∞–Ω–∏—á–µ—Å–∫–æ–µ —Å–µ–º–µ–π—Å—Ç–≤–æ]
–†–û–î–ò–ù–ê: [–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∞—Ä–µ–∞–ª]

–¢–ï–ö–£–©–ï–ï_–°–û–°–¢–û–Ø–ù–ò–ï: [–æ–¥–Ω–æ –∏–∑: healthy, flowering, active_growth, dormancy, stress, adaptation]
–ü–†–ò–ß–ò–ù–ê_–°–û–°–¢–û–Ø–ù–ò–Ø: [–¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ —Å —É—á–µ—Ç–æ–º —Å–µ–∑–æ–Ω–∞ - —á—Ç–æ –≤–∏–¥–Ω–æ –Ω–∞ —Ñ–æ—Ç–æ]
–≠–¢–ê–ü_–†–û–°–¢–ê: [young/mature/old - –≤–æ–∑—Ä–∞—Å—Ç —Ä–∞—Å—Ç–µ–Ω–∏—è]

–°–û–°–¢–û–Ø–ù–ò–ï: [–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è: —Ç—É—Ä–≥–æ—Ä, –æ–∫—Ä–∞—Å–∫–∞, –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã]

–ü–û–õ–ò–í_–ê–ù–ê–õ–ò–ó: [–µ—Å–ª–∏ –ø–æ—á–≤–∞ –≤–∏–¥–Ω–∞ - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑; –µ—Å–ª–∏ –Ω–µ—Ç - "–°—É–±—Å—Ç—Ä–∞—Ç –Ω–µ –≤–∏–¥–µ–Ω –Ω–∞ —Ñ–æ—Ç–æ"]
–ü–û–õ–ò–í_–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò: [–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º –ø–æ–ª–∏–≤–∞ –° –£–ß–ï–¢–û–ú –°–ï–ó–û–ù–ê - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏—Ç–µ —á—Ç–æ —Å–µ–π—á–∞—Å {season_name}]
–ü–û–õ–ò–í_–ò–ù–¢–ï–†–í–ê–õ: [—á–∏—Å–ª–æ –æ—Ç 3 –¥–æ 20 –¥–Ω–µ–π –° –°–ï–ó–û–ù–ù–û–ô –ö–û–†–†–ï–ö–¢–ò–†–û–í–ö–û–ô]

–°–í–ï–¢: [—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ—Å–≤–µ—â–µ–Ω–∏—é —Å —É—á–µ—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ —Å–µ–∑–æ–Ω–∞]
–¢–ï–ú–ü–ï–†–ê–¢–£–†–ê: [–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–µ–∑–æ–Ω–∞]
–í–õ–ê–ñ–ù–û–°–¢–¨: [—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –≤–æ–∑–¥—É—Ö–∞]
–ü–û–î–ö–û–†–ú–ö–ê: [—Ä–µ–∂–∏–º –≤–Ω–µ—Å–µ–Ω–∏—è —É–¥–æ–±—Ä–µ–Ω–∏–π –î–õ–Ø –¢–ï–ö–£–©–ï–ì–û –°–ï–ó–û–ù–ê]
–ü–ï–†–ï–°–ê–î–ö–ê: [–ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è]

–ü–†–û–ë–õ–ï–ú–´: [–≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è, –≤—Ä–µ–¥–∏—Ç–µ–ª–∏, —Ñ–∏–∑–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è]
–°–û–í–ï–¢: [–æ–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π —Å–æ–≤–µ—Ç –¥–ª—è –¢–ï–ö–£–©–ï–ì–û —Å–æ—Å—Ç–æ—è–Ω–∏—è –ò –°–ï–ó–û–ù–ê]

–î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ï_–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò: [—Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è:
- flowering: –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ–ª–∏–≤–∞ —Å —É—á–µ—Ç–æ–º —Å–µ–∑–æ–Ω–∞, —Ñ–æ—Å—Ñ–æ—Ä–Ω–æ-–∫–∞–ª–∏–π–Ω—ã–µ —É–¥–æ–±—Ä–µ–Ω–∏—è
- active_growth: –∞–∑–æ—Ç–Ω—ã–µ —É–¥–æ–±—Ä–µ–Ω–∏—è, —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –æ—Å–≤–µ—â–µ–Ω–∏—è (–∞–∫—Ç—É–∞–ª—å–Ω–æ –≤–µ—Å–Ω–æ–π-–ª–µ—Ç–æ–º)
- dormancy: –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ï —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø–æ–ª–∏–≤–∞ (+5-7 –¥–Ω–µ–π), –ø–æ–Ω–∏–∂–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (–∞–∫—Ç—É–∞–ª—å–Ω–æ –∑–∏–º–æ–π)
- stress: –°–†–û–ß–ù–ê–Ø –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–∏—á–∏–Ω—ã —Å —É—á–µ—Ç–æ–º —Å–µ–∑–æ–Ω–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤
- adaptation: –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–µ—Å—Å-—Ñ–∞–∫—Ç–æ—Ä–æ–≤
- healthy: –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞ —Å —Å–µ–∑–æ–Ω–Ω—ã–º–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞–º–∏]

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é. –í—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –∏ —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å.
"""

# –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
def validate_config():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö"""
    if not BOT_TOKEN:
        raise ValueError("‚ùå BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")
    if not DATABASE_URL:
        raise ValueError("‚ùå DATABASE_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")
    
    logger.info("‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞")
    logger.info(f"üîë BOT_TOKEN: {'‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω' if BOT_TOKEN else '‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}")
    logger.info(f"üîë OPENAI_API_KEY: {'‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω' if OPENAI_API_KEY else '‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}")
    logger.info(f"üîë PLANTID_API_KEY: {'‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω' if PLANTID_API_KEY else '‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}")
    logger.info(f"üåê WEBHOOK_URL: {WEBHOOK_URL if WEBHOOK_URL else '‚ùå –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (polling —Ä–µ–∂–∏–º)'}")
    logger.info(f"üë®‚Äçüíº ADMIN_USER_IDS: {ADMIN_USER_IDS}")
